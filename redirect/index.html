<!DOCTYPE html>
<html lang="en">
<head>
    <title>Redirecting...</title>
    <div id="head-placeholder"></div>
</head>
<body>
    <div id="body-start-placeholder"></div>
    
    <h1>Redirecting...</h1>
    <p>You are being redirected to a new page.</p>
    <p>If you are not redirected automatically, <a href="https://example.com" id="redirect-link">click here</a>.</p>
    
    <div class="progress-bar">
        <div class="progress" id="progress-bar"></div>
    </div>
    <p id="countdown">Redirecting in 5 seconds</p>
    
    <div id="body-end-placeholder"></div>
    
    <script>
        // Fetch and insert shared head content
        fetch('../shared/head.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('head-placeholder').innerHTML = data;
            });
        
        // Fetch and insert shared body start content
        fetch('../shared/body-start.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('body-start-placeholder').innerHTML = data;
            });
        
        // Fetch and insert shared body end content
        fetch('../shared/body-end.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('body-end-placeholder').innerHTML = data;
            });
        
        // Configuration
        const REDIRECT_URL = "https://example.com"; // Change this to your target URL
        const COUNTDOWN_TIME = 5; // Time in seconds
        
        // DOM elements
        const progressBar = document.getElementById('progress-bar');
        const countdownElement = document.getElementById('countdown');
        const redirectLink = document.getElementById('redirect-link');
        
        // Set the redirect link
        redirectLink.href = REDIRECT_URL;
        
        // Calculate increment for progress bar
        const increment = 100 / COUNTDOWN_TIME;
        let progress = 0;
        let secondsLeft = COUNTDOWN_TIME;
        
        // Update progress and countdown
        const timer = setInterval(() => {
            secondsLeft--;
            progress += increment;
            
            progressBar.style.width = `${progress}%`;
            countdownElement.textContent = `Redirecting in ${secondsLeft} seconds`;
            
            if(secondsLeft <= 0) {
                clearInterval(timer);
                window.location.href = REDIRECT_URL;
            }
        }, 1000);
    </script>
</body>
</html>